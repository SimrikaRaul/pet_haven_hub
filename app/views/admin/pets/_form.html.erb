<div class="container max-w-2xl mx-auto py-8 px-4">
  <h1 class="text-3xl font-bold mb-6 text-gray-900"><%= @pet.persisted? ? 'Edit Pet' : 'Add New Pet' %></h1>

  <div class="bg-white rounded-lg shadow-md p-6">
    <% if @pet.errors.any? %>
      <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg mb-6">
        <p class="font-bold"><%= pluralize(@pet.errors.count, 'error') %> prohibited this pet from being saved:</p>
        <ul class="mt-2 list-disc list-inside">
          <% @pet.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <%= form_with model: [:admin, @pet], local: true, multipart: true do |f| %>
      <div class="space-y-6">
        <!-- Pet Name -->
        <div>
          <%= f.label :name, 'Pet Name', class: 'block text-sm font-semibold text-gray-700 mb-2' %>
          <%= f.text_field :name, placeholder: 'Enter pet name', class: 'w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500' %>
        </div>

        <!-- Species & Breed -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <%= f.label :pet_type, 'Species', class: 'block text-sm font-semibold text-gray-700 mb-2' %>
            <%= f.select :pet_type, [['Dog', 'dog'], ['Cat', 'cat'], ['Rabbit', 'rabbit'], ['Bird', 'bird'], ['Other', 'other']], { prompt: 'Select species' }, class: 'w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500' %>
          </div>
          <div>
            <%= f.label :breed, 'Breed', class: 'block text-sm font-semibold text-gray-700 mb-2' %>
            <%= f.text_field :breed, placeholder: 'e.g., Golden Retriever', class: 'w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500' %>
          </div>
        </div>

        <!-- Age & Size -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <%= f.label :age, 'Age (in years)', class: 'block text-sm font-semibold text-gray-700 mb-2' %>
            <%= f.number_field :age, placeholder: '0.5', class: 'w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500', step: 0.1 %>
          </div>
          <div>
            <%= f.label :size, 'Size', class: 'block text-sm font-semibold text-gray-700 mb-2' %>
            <%= f.select :size, [['Small', 'small'], ['Medium', 'medium'], ['Large', 'large']], { prompt: 'Select size' }, class: 'w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500' %>
          </div>
        </div>

        <!-- Sex & Health Status -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <%= f.label :sex, 'Sex', class: 'block text-sm font-semibold text-gray-700 mb-2' %>
            <%= f.select :sex, [['Male', 'male'], ['Female', 'female']], { prompt: 'Select sex' }, class: 'w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500' %>
          </div>
          <div>
            <%= f.label :health_status, 'Health Status', class: 'block text-sm font-semibold text-gray-700 mb-2' %>
            <%= f.text_field :health_status, placeholder: 'e.g., Excellent, Good, Fair', class: 'w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500' %>
          </div>
        </div>

        <!-- Vaccinated & Available -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="flex items-center gap-3 pt-2">
            <%= f.check_box :vaccinated, { class: 'w-4 h-4 text-indigo-600 rounded' }, 'true', 'false' %>
            <%= f.label :vaccinated, 'Vaccinated', class: 'text-sm font-medium text-gray-700' %>
          </div>
          <div class="flex items-center gap-3 pt-2">
            <%= f.check_box :available, { class: 'w-4 h-4 text-indigo-600 rounded' }, 'true', 'false' %>
            <%= f.label :available, 'Available for Adoption', class: 'text-sm font-medium text-gray-700' %>
          </div>
        </div>

        <!-- Status (Admin editable) -->
        <div>
          <%= f.label :status, 'Status', class: 'block text-sm font-semibold text-gray-700 mb-2' %>
          <%= f.select :status, Pet.statuses.keys.map { |s| [s.titleize, s] }, { prompt: 'Select status' }, class: 'w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500' %>
        </div>

        <!-- Description -->
        <div>
          <%= f.label :description, 'Description', class: 'block text-sm font-semibold text-gray-700 mb-2' %>
          <%= f.text_area :description, rows: 5, placeholder: 'Tell us about this pet...', class: 'w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500' %>
        </div>

        <!-- Image Upload -->
        <div>
          <%= f.label :image, 'Pet Image', class: 'block text-sm font-semibold text-gray-700 mb-2' %>
          <div class="mt-2 flex items-center gap-4">
            <% if @pet.image.present? && @pet.image.url %>
              <div class="w-24 h-24 rounded-lg overflow-hidden bg-gray-100">
                <%= image_tag @pet.image.url, alt: @pet.name, class: 'w-full h-full object-cover' %>
              </div>
            <% end %>
            <div class="flex-1">
              <%= f.file_field :image, accept: 'image/*', class: 'block w-full text-sm px-4 py-2 border border-gray-300 rounded-lg cursor-pointer' %>
              <p class="text-xs text-gray-500 mt-1">Max 5MB. Formats: JPG, PNG, GIF</p>
            </div>
          </div>
        </div>

        <!-- Location -->
        <div>
          <h3 class="text-sm font-semibold text-gray-700 mb-3">Location</h3>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <%= f.label :city, 'City', class: 'block text-sm font-medium text-gray-700 mb-2' %>
              <%= f.text_field :city, placeholder: 'e.g., New York', class: 'w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500' %>
            </div>
            <div>
              <%= f.label :country, 'Country', class: 'block text-sm font-medium text-gray-700 mb-2' %>
              <%= f.text_field :country, placeholder: 'e.g., USA', class: 'w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500' %>
            </div>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-4">
            <div>
              <%= f.label :latitude, 'Latitude', class: 'block text-sm font-medium text-gray-700 mb-2' %>
              <%= f.number_field :latitude, step: 0.0001, placeholder: '40.7128', class: 'w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500' %>
            </div>
            <div>
              <%= f.label :longitude, 'Longitude', class: 'block text-sm font-medium text-gray-700 mb-2' %>
              <%= f.number_field :longitude, step: 0.0001, placeholder: '-74.0060', class: 'w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500' %>
            </div>
          </div>
        </div>

        <!-- Submit Buttons -->
        <div class="flex gap-3 justify-end pt-4 border-t">
          <%= link_to 'Cancel', admin_pets_path, class: 'px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50' %>
          <%= f.submit @pet.persisted? ? 'Update Pet' : 'Create Pet', class: 'px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition' %>
        </div>
      </div>
    <% end %>
  </div>
</div>
